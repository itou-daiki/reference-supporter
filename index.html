<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>引用参考文献作成ツール</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- メインコンテンツ -->
    <div class="main-content">
        <div class="container">
            <header class="header">
                <h1><i class="fas fa-quote-left"></i> 引用参考文献作成ツール</h1>
                <p class="subtitle">書籍、論文、Webサイトの引用文献を自動生成</p>
                <p class="author">Created by Dit-Lab.(Daiki ITO)</p>

                <div class="description">
                    <h3><i class="fas fa-lightbulb"></i> 引用参考文献の必要性</h3>
                    <p>学術論文やレポートでは、他者の著作物を参照した際に適切な引用・参考文献の記載が必須です。これは著作権の尊重、研究の透明性確保、読者への情報提供という重要な役割を果たします。このツールを使用することで、正確で統一された形式の引用文献を簡単に作成できます。</p>
                </div>
            </header>

            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-button active" data-tab="book">
                        <i class="fas fa-book"></i>
                        書籍
                    </button>
                    <button class="tab-button" data-tab="paper">
                        <i class="fas fa-file-alt"></i>
                        論文
                    </button>
                    <button class="tab-button" data-tab="website">
                        <i class="fas fa-globe"></i>
                        Webサイト
                    </button>
                </div>
            </div>

            <!-- 書籍タブ -->
            <div id="book-tab" class="tab-content active">
                <div class="input-method-tabs">
                    <button class="method-tab active" data-method="book-search">
                        <i class="fas fa-search"></i> 自動検索
                    </button>
                    <button class="method-tab" data-method="book-manual">
                        <i class="fas fa-edit"></i> 手動入力
                    </button>
                </div>

                <!-- 自動検索 -->
                <div id="book-search-input" class="input-method-content active">
                    <div class="search-section">
                        <h2><i class="fas fa-search"></i> 書籍検索</h2>
                        <div class="search-form">
                            <div class="input-group">
                                <select id="search-type">
                                    <option value="title">タイトル検索</option>
                                    <option value="isbn">ISBN検索</option>
                                </select>
                                <input type="text" id="book-search" placeholder="書籍タイトルまたはISBNを入力">
                                <button id="search-button" class="btn-primary">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        <div id="search-results" class="search-results"></div>
                        <div id="loading" class="loading hidden">
                            <i class="fas fa-spinner fa-spin"></i> 検索中...
                        </div>
                        
                        <!-- 手動入力フォーム（自動検索後に表示） -->
                        <div id="book-edit-form" class="edit-form-section hidden">
                            <h3><i class="fas fa-edit"></i> 検索結果を確認・編集</h3>
                            <p class="help-text">自動検索された情報を確認し、必要に応じて修正してください。</p>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="book-edit-authors">著者名: <span class="required">*</span></label>
                                    <input type="text" id="book-edit-authors" placeholder="例: 田中太郎">
                                    <small class="field-help">複数著者の場合は「・」（中点）で区切ってください</small>
                                </div>
                                <div class="form-group">
                                    <label for="book-edit-title">書籍タイトル: <span class="required">*</span></label>
                                    <input type="text" id="book-edit-title" placeholder="例: Pythonプログラミング入門">
                                </div>
                                <div class="form-group">
                                    <label for="book-edit-publisher">出版社: <span class="required">*</span></label>
                                    <input type="text" id="book-edit-publisher" placeholder="例: 技術評論社">
                                </div>
                                <div class="form-group">
                                    <label for="book-edit-year">発行年: <span class="required">*</span></label>
                                    <input type="text" id="book-edit-year" placeholder="例: 2023">
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button id="generate-book-edit-citation" class="btn-primary">
                                    <i class="fas fa-quote-right"></i> 引用文献を生成
                                </button>
                                <button id="clear-book-edit" class="btn-secondary">
                                    <i class="fas fa-eraser"></i> クリア
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 手動入力 -->
                <div id="book-manual-input" class="input-method-content">
                    <div class="manual-input-section">
                        <h2><i class="fas fa-edit"></i> 書籍情報を手動入力</h2>
                        <p class="help-text">書籍の各要素を入力して引用文献を作成します。</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="book-manual-authors">著者名: <span class="required">*</span></label>
                                <input type="text" id="book-manual-authors" placeholder="例: 田中太郎">
                                <small class="field-help">複数著者の場合は「・」（中点）で区切ってください</small>
                            </div>
                            <div class="form-group">
                                <label for="book-manual-title">書籍タイトル: <span class="required">*</span></label>
                                <input type="text" id="book-manual-title" placeholder="例: Pythonプログラミング入門">
                            </div>
                            <div class="form-group">
                                <label for="book-manual-publisher">出版社: <span class="required">*</span></label>
                                <input type="text" id="book-manual-publisher" placeholder="例: 技術評論社">
                            </div>
                            <div class="form-group">
                                <label for="book-manual-year">発行年: <span class="required">*</span></label>
                                <input type="text" id="book-manual-year" placeholder="例: 2023">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button id="generate-book-manual-citation" class="btn-primary">
                                <i class="fas fa-quote-right"></i> 引用文献を生成
                            </button>
                            <button id="clear-book-manual" class="btn-secondary">
                                <i class="fas fa-eraser"></i> クリア
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 論文タブ -->
            <div id="paper-tab" class="tab-content">
                <div class="paper-input-section">
                    <h2><i class="fas fa-file-alt"></i> 論文情報抽出</h2>
                    
                    <!-- 入力方法選択 -->
                    <div class="input-method-tabs">
                        <button class="method-tab active" data-method="jstage">
                            <i class="fas fa-link"></i> J-STAGE URL
                        </button>
                        <button class="method-tab" data-method="doi">
                            <i class="fas fa-fingerprint"></i> DOI
                        </button>
                        <button class="method-tab" data-method="url-doi">
                            <i class="fas fa-globe"></i> URL (DOI含む)
                        </button>
                        <button class="method-tab" data-method="paper-manual">
                            <i class="fas fa-edit"></i> 手動入力
                        </button>
                    </div>
                    
                    <!-- J-STAGE URL入力 -->
                    <div id="jstage-input" class="input-method-content active">
                        <div class="input-group">
                            <input type="url" id="jstage-url" placeholder="J-STAGEのURLを入力してください">
                            <button id="extract-paper" class="btn-primary">
                                <i class="fas fa-extract"></i> 抽出
                            </button>
                        </div>
                        <div class="input-help">
                            例: https://www.jstage.jst.go.jp/article/journal/volume_issue/article_id
                        </div>
                    </div>
                    
                    <!-- DOI入力 -->
                    <div id="doi-input" class="input-method-content">
                        <div class="input-group">
                            <input type="text" id="doi-text" placeholder="DOIを入力してください（例: 10.1000/182）">
                            <button id="extract-doi" class="btn-primary">
                                <i class="fas fa-search"></i> 検索
                            </button>
                        </div>
                        <div class="input-help">
                            DOI（Digital Object Identifier）から論文情報を自動取得します
                        </div>
                    </div>
                    
                    <!-- URL (DOI含む)入力 -->
                    <div id="url-doi-input" class="input-method-content">
                        <div class="input-group">
                            <input type="url" id="url-doi-text" placeholder="論文のURLを入力してください">
                            <button id="extract-url-doi" class="btn-primary">
                                <i class="fas fa-extract"></i> 抽出
                            </button>
                        </div>
                        <div class="input-help">
                            PubMed、arXiv、その他の学術サイトのURLからDOIを自動検出して論文情報を取得します
                        </div>
                    </div>
                    
                    <!-- 手動入力 -->
                    <div id="paper-manual-input" class="input-method-content">
                        <div class="manual-input-section">
                            <h2><i class="fas fa-edit"></i> 論文情報を手動入力</h2>
                            <p class="help-text">論文の各要素を入力して引用文献を作成します。</p>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="paper-manual-authors">著者名: <span class="required">*</span></label>
                                    <input type="text" id="paper-manual-authors" placeholder="例: 田中太郎">
                                    <small class="field-help">複数著者の場合は「・」（中点）で区切ってください</small>
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-title">論文タイトル: <span class="required">*</span></label>
                                    <input type="text" id="paper-manual-title" placeholder="例: 機械学習における新しいアプローチ">
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-journal">雑誌名: <span class="required">*</span></label>
                                    <input type="text" id="paper-manual-journal" placeholder="例: 情報処理学会論文誌">
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-volume">巻数:</label>
                                    <input type="text" id="paper-manual-volume" placeholder="例: 50">
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-issue">号数:</label>
                                    <input type="text" id="paper-manual-issue" placeholder="例: 10">
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-pages">ページ:</label>
                                    <input type="text" id="paper-manual-pages" placeholder="例: 45-50">
                                    <small class="field-help">「pp.」は自動で追加されます</small>
                                </div>
                                <div class="form-group">
                                    <label for="paper-manual-year">発表年: <span class="required">*</span></label>
                                    <input type="text" id="paper-manual-year" placeholder="例: 2023">
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button id="generate-paper-manual-citation" class="btn-primary">
                                    <i class="fas fa-quote-right"></i> 引用文献を生成
                                </button>
                                <button id="clear-paper-manual" class="btn-secondary">
                                    <i class="fas fa-eraser"></i> クリア
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="paper-loading" class="loading hidden">
                        <i class="fas fa-spinner fa-spin"></i> 抽出中...
                    </div>
                    
                    <!-- 手動入力フォーム（自動抽出後に表示） -->
                    <div id="paper-edit-form" class="edit-form-section hidden">
                        <h3><i class="fas fa-edit"></i> 抽出結果を確認・編集</h3>
                        <p class="help-text">自動抽出された情報を確認し、必要に応じて修正してください。</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="paper-edit-authors">著者名: <span class="required">*</span></label>
                                <input type="text" id="paper-edit-authors" placeholder="例: 田中太郎">
                                <small class="field-help">複数著者の場合は「・」（中点）で区切ってください</small>
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-title">論文タイトル: <span class="required">*</span></label>
                                <input type="text" id="paper-edit-title" placeholder="例: 機械学習における新しいアプローチ">
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-journal">雑誌名: <span class="required">*</span></label>
                                <input type="text" id="paper-edit-journal" placeholder="例: 情報処理学会論文誌">
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-volume">巻数:</label>
                                <input type="text" id="paper-edit-volume" placeholder="例: 50">
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-issue">号数:</label>
                                <input type="text" id="paper-edit-issue" placeholder="例: 10">
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-pages">ページ:</label>
                                <input type="text" id="paper-edit-pages" placeholder="例: 45-50">
                                <small class="field-help">「pp.」は自動で追加されます</small>
                            </div>
                            <div class="form-group">
                                <label for="paper-edit-year">発表年: <span class="required">*</span></label>
                                <input type="text" id="paper-edit-year" placeholder="例: 2023">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button id="generate-paper-edit-citation" class="btn-primary">
                                <i class="fas fa-quote-right"></i> 引用文献を生成
                            </button>
                            <button id="clear-paper-edit" class="btn-secondary">
                                <i class="fas fa-eraser"></i> クリア
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Webサイトタブ -->
            <div id="website-tab" class="tab-content">
                <div class="input-method-tabs">
                    <button class="method-tab active" data-method="website-auto">
                        <i class="fas fa-link"></i> 自動抽出
                    </button>
                    <button class="method-tab" data-method="website-manual">
                        <i class="fas fa-edit"></i> 手動入力
                    </button>
                </div>

                <!-- 自動抽出 -->
                <div id="website-auto-input" class="input-method-content active">
                    <div class="url-section">
                        <h2><i class="fas fa-link"></i> WebサイトURL入力</h2>
                        <div class="input-group">
                            <input type="url" id="website-url" placeholder="WebサイトのURLを入力してください">
                            <button id="extract-website" class="btn-primary">
                                <i class="fas fa-extract"></i> 抽出
                            </button>
                        </div>
                        <div id="website-loading" class="loading hidden">
                            <i class="fas fa-spinner fa-spin"></i> 抽出中...
                        </div>
                        
                        <!-- 手動入力フォーム（自動抽出後に表示） -->
                        <div id="website-edit-form" class="edit-form-section hidden">
                            <h3><i class="fas fa-edit"></i> 抽出結果を確認・編集</h3>
                            <p class="help-text">自動抽出された情報を確認し、必要に応じて修正してください。</p>
                            
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="website-edit-title">ページタイトル: <span class="required">*</span></label>
                                    <input type="text" id="website-edit-title" placeholder="例: プログラミング学習の基礎">
                                </div>
                                <div class="form-group">
                                    <label for="website-edit-site">サイト名: <span class="required">*</span></label>
                                    <input type="text" id="website-edit-site" placeholder="例: 技術情報サイト">
                                </div>
                                <div class="form-group">
                                    <label for="website-edit-url">URL: <span class="required">*</span></label>
                                    <input type="url" id="website-edit-url" placeholder="例: https://example.com/article">
                                </div>
                                <div class="form-group">
                                    <label for="website-edit-date">閲覧年月日: <span class="required">*</span></label>
                                    <input type="text" id="website-edit-date" placeholder="例: 2023.12.15" readonly>
                                    <small class="field-help">本日の日付が自動入力されます</small>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button id="generate-website-edit-citation" class="btn-primary">
                                    <i class="fas fa-quote-right"></i> 引用文献を生成
                                </button>
                                <button id="clear-website-edit" class="btn-secondary">
                                    <i class="fas fa-eraser"></i> クリア
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 手動入力 -->
                <div id="website-manual-input" class="input-method-content">
                    <div class="manual-input-section">
                        <h2><i class="fas fa-edit"></i> Webサイト情報を手動入力</h2>
                        <p class="help-text">Webサイトの各要素を入力して引用文献を作成します。</p>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="website-manual-title">ページタイトル: <span class="required">*</span></label>
                                <input type="text" id="website-manual-title" placeholder="例: プログラミング学習の基礎">
                            </div>
                            <div class="form-group">
                                <label for="website-manual-site">サイト名: <span class="required">*</span></label>
                                <input type="text" id="website-manual-site" placeholder="例: 技術情報サイト">
                            </div>
                            <div class="form-group">
                                <label for="website-manual-url">URL: <span class="required">*</span></label>
                                <input type="url" id="website-manual-url" placeholder="例: https://example.com/article">
                            </div>
                            <div class="form-group">
                                <label for="website-manual-date">閲覧年月日: <span class="required">*</span></label>
                                <input type="text" id="website-manual-date" placeholder="例: 2023.12.15" readonly>
                                <small class="field-help">本日の日付が自動入力されます</small>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button id="generate-website-manual-citation" class="btn-primary">
                                <i class="fas fa-quote-right"></i> 引用文献を生成
                            </button>
                            <button id="clear-website-manual" class="btn-secondary">
                                <i class="fas fa-eraser"></i> クリア
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 結果表示 -->
            <div id="result-section" class="result-section hidden">
                <h2><i class="fas fa-clipboard-list"></i> 生成された引用文献</h2>
                <div class="result-container">
                    <div id="citation-result" class="citation-result"></div>
                    <div class="citation-actions">
                        <button id="edit-button" class="btn-edit">
                            <i class="fas fa-edit"></i> 編集
                        </button>
                        <button id="copy-button" class="btn-secondary">
                            <i class="fas fa-copy"></i> コピー
                        </button>
                    </div>
                </div>
            </div>

            <!-- 編集フォーム -->
            <div id="edit-section" class="edit-section hidden">
                <h2><i class="fas fa-edit"></i> 引用文献を編集</h2>
                <div class="edit-container">
                    <textarea id="citation-edit" class="citation-edit" rows="4" placeholder="引用文献を編集してください"></textarea>
                    <div class="edit-actions">
                        <button id="save-edit" class="btn-primary">
                            <i class="fas fa-save"></i> 保存
                        </button>
                        <button id="cancel-edit" class="btn-secondary">
                            <i class="fas fa-times"></i> キャンセル
                        </button>
                    </div>
                </div>
            </div>

            <!-- エラー表示 -->
            <div id="error-section" class="error-section hidden">
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span id="error-text"></span>
                </div>
            </div>
        </div>
    </div>
    

    <script src="script.js"></script>
</body>
</html>